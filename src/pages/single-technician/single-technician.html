<!--
  Generated template for the SingleTechnicianPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


    <ion-header>

      <ion-navbar>
          <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
          </button>
        <ion-title><ion-icon item-left name="build"></ion-icon>&nbsp; {{ technician?.Name }}</ion-title>
      </ion-navbar>

      <!-- <ion-toolbar> -->
        <ion-segment [(ngModel)]="toptabs" (ionChange)="onSegmentChanged(toptabs)">
          <ion-segment-button value="details">
            Details
          </ion-segment-button>
          <ion-segment-button value="related">
            Service Teams
          </ion-segment-button>
        </ion-segment>
      <!-- </ion-toolbar> -->

    </ion-header>

    <ion-content padding-vertical>
      <ion-refresher (ionRefresh)="doRefresh($event)">
          <ion-refresher-content></ion-refresher-content>
      </ion-refresher>

      <div [ngSwitch]="toptabs" color="primary">
        <ion-list *ngSwitchCase="'details'">

          <ion-list id={{technician?.Id}}>
              <ion-item>
                <p>User</p>
                <!-- <h2>{{ user?.FirstName }} {{ user?.LastName }}&nbsp;</h2> -->
                <h2>{{ user?.Name }}&nbsp;</h2>
              </ion-item>
              <ion-item>
                <p>Phone</p>
                <h2 *ngIf="user?.Phone != null; else elsetag" ><a href="tel:{{ user.Phone }}">{{ user.Phone }}</a>&nbsp;</h2>
                <ng-template #elsetag>
                  <h2>&nbsp;</h2>
                </ng-template>
              </ion-item>
              <ion-item>
                <p>Email</p>
                <h2 *ngIf="(user?.Email || user?.email) != null; else elsetag" ><a href="mailto:{{ user.Email }}">{{ user.Email || user.email }}</a>&nbsp;</h2>
              </ion-item>
              <ion-item *ngIf="department != null" (click)="loadDepartmentDetails(department?.Id, department)">
                <p>Department</p>
                <h2><a>{{ department?.Name }}</a>&nbsp;</h2>
              </ion-item>
              <ion-item>
                <!-- <ion-label>Username: {{ technician?.UH__username__c }}</ion-label> -->
                <p>Username</p>
                <h2>{{ technician?.UH__username__c || user?.username }}&nbsp;</h2>
              </ion-item>
          </ion-list>

        </ion-list>
 
        <!-- related tab -->
        <ion-list *ngSwitchCase="'related'">
          <related-tab [relatedListArr]="relatedData"></related-tab>
        </ion-list>

      </div>

    </ion-content>